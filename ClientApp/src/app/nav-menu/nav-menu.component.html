<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>

<header>

  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">

  <nav class="navbar navbar-expand-md navbar-toggleable-md navbar-light border-bottom box-shadow mb-3">
    <div class="container">
      <a class="navbar-brand text-white" [routerLink]="['/']"><img class="navlogo" src="../../assets/LOGO TEAMMOTOTEC.png" /></a>
      <button class="navbar-toggler"
              type="button"
              data-toggle="collapse"
              data-target=".navbar-collapse"
              aria-label="Toggle navigation"
              [attr.aria-expanded]="isExpanded"
              (click)="toggle()">
        <span class="navbar-toggler-icon"></span>
      </button>


      <div class="navbar-collapse collapse d-md-inline-flex flex-md-row-reverse"
           [ngClass]="{ show: isExpanded }">

        <div *ngIf="!sesioniniciada">
          <ul class="navbar-nav flex-grow">
            <li class="nav-item" [routerLinkActive]="['link-active']">
              <a class="nav-link text-white" [routerLink]="['/login']">Iniciar sesión</a>
            </li>
            <li class="nav-item" [routerLinkActive]="['link-active']">
              <a class="nav-link text-white" [routerLink]="['/registro']">Registrarse</a>
            </li>
          </ul>
        </div>
        <div *ngIf="sesioniniciada">
          <ul class="navbar-nav flex-grow">
            <li class="nav-item" [routerLinkActive]="['link-active']">
              <a class="nav-link text-white" [routerLink]="['/favoritos']">Favoritos</a>
            </li>
            <li class="nav-item" [routerLinkActive]="['link-active']">
              <a class="nav-link text-white" [routerLink]="['/historial']">Historial</a>
            </li>
            <li class="nav-item" [routerLinkActive]="['link-active']">
              <a class="nav-link text-white" [routerLink]="['/configuracion']">Ver perfil</a>
            </li>
            <li class="nav-item" [routerLinkActive]="['link-active']">
              <a class="nav-link text-white" [routerLink]="['/carrito']">Carrito</a>
            </li>
            <li class="nav-item" >
              <a class="nav-link text-white" type="submit" (click)="logout()">Cerrar sesión</a>
            </li>
          </ul>
        </div>
        <ul class="navbar-nav flex-grow">
          <li>
            <div class="navbar-search">
              <input id="Buscador" type="search" placeholder="Buscar productos" aria-label="Search" (keyup)="buscarPalabra(buscarTexto.value)" #buscarTexto />
            </div>
            <a class="icono" data-toggle="modal" data-target="#BUSCA"><i class="fas fa-search fa-2x"></i></a>
          </li>
          <li class="nav-item"
              [routerLinkActive]="['link-active']"
              [routerLinkActiveOptions]="{ exact: true }">
            <a class="nav-link text-white" [routerLink]="['/productos']">Productos</a>
          </li>

        </ul>
      </div>
    </div>
  </nav>
  
  
</header>

<div class="modal" id="BUSCA">
  <div class="modal-dialog ">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Busqueda</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <div class="modal-body">
        <div class="datos" *ngFor="let producto of buscadorproductos">
          <div class="texto">
            <p>{{producto.nombreDeProducto}}</p>
          </div>
          <div class="image">
            <img class="prev" src="{{producto.idImagen}}" [routerLink]="['/producto', producto.idProducto]" />
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
